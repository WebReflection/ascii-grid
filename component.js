/*! (c) Andrea Giammarchi */
const{max:t,min:e}=Math,{fromCharCode:s}=String,r=r=>{let a=0,n=1/0;const o=[];for(const c of(t=>{let e=0;const r=new Map;return t.replace(/\S+/g,(t=>{if(!r.has(t)){let a="";do{a=s(e++)}while(/[\r\n\t ]/.test(a));r.set(t,a)}return r.get(t)}))})(r).split(/[\r\n]+/)){const s=c.trimEnd().length;s&&(a=t(a,s),n=e(n,c.length-c.trimStart().length),o.push(c))}return o.map((t=>t.slice(n).padEnd(a-n))).join("\n")};var a=t=>{let e="",s=[];const a=[s];for(const n of r(t))switch(n){case" ":case"\t":n===e?(e="",s.push(".")):e=n;break;case"\n":a.push(s=[]);break;default:e=n,s.push("g"+n.charCodeAt(0))}const n=a.flat().filter((t=>"."!==t));return t=a.map((t=>`"${t.join(" ")}"`)).join(" "),{applyTo(e){let s=0;const r=new Map,{children:a,style:o}=e;o.display="grid",o["grid-template-areas"]=t;for(const t of n)if(!r.has(t)){const e=a[s++];e.style["grid-area"]=t,r.set(t,e)}return e},cssFor(e){let s=0;const r=new Set,a=[`${e}{display:grid;grid-template-areas:${t}}`];for(const t of n)r.has(t)||(a.push(`${e}>*:nth-child(${++s}){grid-area:${t}}`),r.add(t));return a.join("\n")}}};if(!customElements.get("ascii-grid")){const{COMMENT_NODE:t}=Node,{find:e}=Array.prototype,s=e=>e.nodeType===t&&e.data.startsWith("#");customElements.define("ascii-grid",class extends HTMLElement{get structure(){const t=e.call(this.childNodes,s);return t?t.data.slice(1):""}set structure(t){let r=e.call(this.childNodes,s);r||(r=this.appendChild(document.createComment(""))),r.data="#"+t,a(t).applyTo(this)}connectedCallback(){const{structure:t}=this;t?this.structure=t:requestAnimationFrame((()=>this.connectedCallback()))}})}export{a as default};
